<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>Quake</title>
		<style>
			canvas{position:fixed;left:0;top:0;display:none}
			#loading{display:none;position:fixed}
			#end{color:white;font-family:monospace;text-align:center}
			#end1,#end2{background-color:maroon;white-space:pre;display:none}
			.gui_download{position:absolute;right:10px;top:10px;z-index:999;width:64px;height:64px;cursor:pointer;display:none;background-repeat:no-repeat;background-image:url("data:image/png;base64,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")}
			.gui_download:hover{filter:brightness(110%)}
		</style>
	</head>
	<body>
		<div>
			<span id="progress">Starting Quake...</span>
			<canvas id="mainwindow"></canvas>
			<img id="loading" alt="Loading" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4wsOBg4sY924cQAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAAADUlEQVQI12P4//8/AwAI/AL+XJ/P2gAAAABJRU5ErkJggg==">
		</div>
		<div class="gui_download" onclick="downloadSaveGame()"></div>

		<script src='source/V.js'></script>
		<script src='source/GL.js'></script>
		<script src='source/ED.js'></script>
		<script src='source/Key.js'></script>
		<script src='source/R.js'></script>
		<script src='source/Def.js'></script>
		<script src='source/Host.js'></script>
		<script src='source/CDAudio.js'></script>
		<script src='source/Chase.js'></script>
		<script src='source/COM.js'></script>
		<script src='source/CRC.js'></script>
		<script src='source/M.js'></script>
		<script src='source/Protocol.js'></script>
		<script src='source/VID.js'></script>
		<script src='source/Console.js'></script>
		<script src='source/Sbar.js'></script>
		<script src='source/Vec.js'></script>
		<script src='source/Draw.js'></script>
		<script src='source/NET.js'></script>
		<script src='source/NET_Loop.js'></script>
		<script src='source/NET_WEBS.js'></script>
		<script src='source/W.js'></script>
		<script src='source/PR.js'></script>
		<script src='source/Cvar.js'></script>
		<script src='source/Sys.js'></script>
		<script src='source/Mod.js'></script>
		<script src='source/S.js'></script>
		<script src='source/SZ.js'></script>
		<script src='source/Cmd.js'></script>
		<script src='source/IN.js'></script>
		<script src='source/MSG.js'></script>
		<script src='source/Q.js'></script>
		<script src='source/SCR.js'></script>
		<script src='source/PF.js'></script>
		<script src='source/CL.js'></script>
		<script src='source/SV.js'></script>

		<script>

			var CTRLS_IDLE = 0;

			function mouseChecker()
				{
				if(document.pointerLockElement==null)
					{
					goBackButtonResetIncrement();
					}
					else
					{
					goBackButtonTimerIncrement();
					}
				}

			function goBackButtonResetIncrement()
				{
				try
					{
					CTRLS_IDLE = 0;
					// SHOWS THE DOWNLOAD BUTTON
					document.getElementsByClassName("gui_download")[0].style.display = "block";
					}
					catch(err)
					{
					}
				}

			function goBackButtonTimerIncrement()
				{
				try
					{
					CTRLS_IDLE = CTRLS_IDLE + 1;
					if (CTRLS_IDLE >= 3)
						{
						// HIDES THE DOWNLOAD BUTTON
						document.getElementsByClassName("gui_download")[0].style.display = "none";
						}
					}
					catch(err)
					{
					}
				}

			function downloadSaveGame()
				{
				try
					{
					var name = COM.DefaultExtension("s0", ".sav");
					var rawReading = COM.LoadTextFile(name);
					if (rawReading.length>100)
						{
						saveString(rawReading,"s0.sav")
						}
					}
					catch(err)
					{
					}
				}

			function saveString(text, filename)
				{
				save(new Blob([text], {type:"text/plain"}), filename);
				}

			function save(blob, filename)
				{
				var link = document.createElement("a");
				link.style.display = "none";
				document.body.appendChild(link);
				link.href = URL.createObjectURL(blob);
				link.download = filename || "data.json";
				link.click();
				}

			setInterval(goBackButtonTimerIncrement, 1000);
			document.addEventListener("click", mouseChecker, false);
			document.addEventListener("dblclick", mouseChecker, false);
			document.addEventListener("mousemove", mouseChecker, false);
			document.addEventListener("pointerlockchange", mouseChecker, false);
			document.addEventListener("mozpointerlockchange", mouseChecker, false);
			document.addEventListener("webkitpointerlockchange", mouseChecker, false);
		</script>

		<script type="x-shader/x-vertex" id="vshAlias">uniform vec3 uOrigin;uniform mat3 uAngles;uniform vec3 uViewOrigin;uniform mat3 uViewAngles;uniform mat4 uPerspective;uniform vec3 uLightVec;attribute vec3 aPosition;attribute vec3 aNormal;attribute vec2 aTexCoord;varying vec2 vTexCoord;varying float vLightDot;void main(void){vec3 position = uViewAngles * (uAngles * aPosition + uOrigin - uViewOrigin);gl_Position = uPerspective * vec4(position.xz, -position.y, 1.0);vTexCoord = aTexCoord;vLightDot = dot(aNormal, uLightVec);}</script>
		<script type="x-shader/x-fragment" id="fshAlias">precision mediump float;uniform float uGamma;uniform float uAmbientLight;uniform float uShadeLight;uniform sampler2D tTexture;varying vec2 vTexCoord;varying float vLightDot;void main(void){vec4 texture = texture2D(tTexture, vTexCoord);gl_FragColor = vec4(texture.rgb * mix(1.0, vLightDot * uShadeLight + uAmbientLight, texture.a), 1.0);gl_FragColor.r = pow(gl_FragColor.r, uGamma);gl_FragColor.g = pow(gl_FragColor.g, uGamma);gl_FragColor.b = pow(gl_FragColor.b, uGamma);}</script>
		<script type="x-shader/x-vertex" id="vshBrush">uniform vec3 uOrigin;uniform mat3 uAngles;uniform vec3 uViewOrigin;uniform mat3 uViewAngles;uniform mat4 uPerspective;attribute vec3 aPosition;attribute vec4 aTexCoord;attribute vec4 aLightStyle;varying vec4 vTexCoord;varying vec4 vLightStyle;void main(void){vec3 position = uViewAngles * (uAngles * aPosition + uOrigin - uViewOrigin);gl_Position = uPerspective * vec4(position.xz, -position.y, 1.0);vTexCoord = aTexCoord;vLightStyle = aLightStyle;}</script>
		<script type="x-shader/x-fragment" id="fshBrush">precision mediump float;uniform float uGamma;uniform sampler2D tTexture;uniform sampler2D tLightmap;uniform sampler2D tDlight;uniform sampler2D tLightStyle;varying vec4 vTexCoord;varying vec4 vLightStyle;void main(void){vec4 texture = texture2D(tTexture, vTexCoord.xy);gl_FragColor = vec4(texture.rgb *mix(1.0, dot(texture2D(tLightmap, vTexCoord.zw), vec4(texture2D(tLightStyle, vec2(vLightStyle.x, 0.0)).a,texture2D(tLightStyle, vec2(vLightStyle.y, 0.0)).a,texture2D(tLightStyle, vec2(vLightStyle.z, 0.0)).a,texture2D(tLightStyle, vec2(vLightStyle.w, 0.0)).a)* 43.828125) + texture2D(tDlight, vTexCoord.zw).a, texture.a), 1.0);gl_FragColor.r = pow(gl_FragColor.r, uGamma);gl_FragColor.g = pow(gl_FragColor.g, uGamma);gl_FragColor.b = pow(gl_FragColor.b, uGamma);}</script>
		<script type="x-shader/x-vertex" id="vshCharacter">uniform vec2 uCharacter;uniform vec2 uDest;uniform mat4 uOrtho;attribute vec2 aPosition;varying vec2 vTexCoord;void main(void){gl_Position = uOrtho * vec4(aPosition * 8.0 + uDest, 0.0, 1.0);vTexCoord = (aPosition + uCharacter) * 0.0625;}</script>
		<script type="x-shader/x-fragment" id="fshCharacter">precision mediump float;uniform sampler2D tTexture;varying vec2 vTexCoord;void main(void){gl_FragColor = texture2D(tTexture, vTexCoord);}</script>
		<script type="x-shader/x-vertex" id="vshDlight">uniform vec3 uOrigin;uniform vec3 uViewOrigin;uniform mat3 uViewAngles;uniform mat4 uPerspective;uniform float uRadius;attribute vec3 aPosition;varying float vAlpha;void main(void){vec3 position = aPosition * 0.35 * uRadius + uViewAngles * (uOrigin - uViewOrigin);gl_Position = uPerspective * vec4(position.xz, -position.y, 1.0);vAlpha = aPosition.y * -0.2;}</script>
		<script type="x-shader/x-fragment" id="fshDlight">precision mediump float;uniform float uGamma;varying float vAlpha;void main(void){gl_FragColor = vec4(pow(1.0, uGamma), pow(0.5, uGamma), 0.0, vAlpha);}</script>
		<script type="x-shader/x-vertex" id="vshFill">uniform mat4 uOrtho;attribute vec2 aPosition;attribute vec4 aColor;varying vec4 vColor;void main(void){gl_Position = uOrtho * vec4(aPosition, 0.0, 1.0);vColor = aColor;}</script>
		<script type="x-shader/x-fragment" id="fshFill">precision mediump float;varying vec4 vColor;void main(void){gl_FragColor = vColor;}</script>
		<script type="x-shader/x-vertex" id="vshParticle">uniform vec3 uViewOrigin;uniform mat3 uViewAngles;uniform mat4 uPerspective;uniform float uScale;attribute vec3 aOrigin;attribute vec2 aCoord;attribute float aScale;attribute vec3 aColor;varying vec2 vCoord;varying vec3 vColor;void main(void){vec2 point = aCoord * aScale;vec3 position = vec3(point.x, 0.0, point.y) + uViewAngles * (aOrigin - uViewOrigin);gl_Position = uPerspective * vec4(position.xz, -position.y, 1.0);vCoord = aCoord;vColor = aColor;}</script>
		<script type="x-shader/x-fragment" id="fshParticle">precision mediump float;uniform float uGamma;varying vec2 vCoord;varying vec3 vColor;void main(void){gl_FragColor = vec4(vColor, 1.0 - smoothstep(0.75, 1.0, length(vCoord)));gl_FragColor.r = pow(gl_FragColor.r, uGamma);gl_FragColor.g = pow(gl_FragColor.g, uGamma);gl_FragColor.b = pow(gl_FragColor.b, uGamma);}</script>
		<script type="x-shader/x-vertex" id="vshPic">uniform mat4 uOrtho;attribute vec2 aPosition;attribute vec2 aTexCoord;varying vec2 vTexCoord;void main(void){gl_Position = uOrtho * vec4(aPosition, 0.0, 1.0);vTexCoord = aTexCoord;}</script>
		<script type="x-shader/x-fragment" id="fshPic">precision mediump float;uniform sampler2D tTexture;varying vec2 vTexCoord;void main(void){gl_FragColor = texture2D(tTexture, vTexCoord);}</script>
		<script type="x-shader/x-vertex" id="vshPicTranslate">uniform mat4 uOrtho;attribute vec2 aPosition;attribute vec2 aTexCoord;varying vec2 vTexCoord;void main(void){gl_Position = uOrtho * vec4(aPosition, 0.0, 1.0);vTexCoord = aTexCoord;}</script>
		<script type="x-shader/x-fragment" id="fshPicTranslate">precision mediump float;uniform vec3 uTop;uniform vec3 uBottom;uniform sampler2D tTexture;uniform sampler2D tTrans;varying vec2 vTexCoord;void main(void){vec4 texture = texture2D(tTexture, vTexCoord);vec4 trans = texture2D(tTrans, vTexCoord);gl_FragColor = vec4(mix(mix(texture.rgb, uTop * trans.x, trans.y), uBottom * trans.z, trans.w), texture.a);}</script>
		<script type="x-shader/x-vertex" id="vshPlayer">uniform vec3 uOrigin;uniform mat3 uAngles;uniform vec3 uViewOrigin;uniform mat3 uViewAngles;uniform mat4 uPerspective;uniform vec3 uLightVec;attribute vec3 aPosition;attribute vec3 aNormal;attribute vec2 aTexCoord;varying vec2 vTexCoord;varying float vLightDot;void main(void){vec3 position = uViewAngles * (uAngles * aPosition + uOrigin - uViewOrigin);gl_Position = uPerspective * vec4(position.xz, -position.y, 1.0);vTexCoord = aTexCoord;vLightDot = dot(aNormal, uLightVec);}</script>
		<script type="x-shader/x-fragment" id="fshPlayer">precision mediump float;uniform float uGamma;uniform float uAmbientLight;uniform float uShadeLight;uniform vec3 uTop;uniform vec3 uBottom;uniform sampler2D tTexture;uniform sampler2D tPlayer;varying vec2 vTexCoord;varying float vLightDot;void main(void){vec4 texture = texture2D(tTexture, vTexCoord);vec4 player = texture2D(tPlayer, vTexCoord);gl_FragColor = vec4(mix(mix(texture.rgb, uTop * (1.0 / 191.25) * player.x, player.y), uBottom * (1.0 / 191.25) * player.z, player.w)* mix(1.0, vLightDot * uShadeLight + uAmbientLight, texture.a), 1.0);gl_FragColor.r = pow(gl_FragColor.r, uGamma);gl_FragColor.g = pow(gl_FragColor.g, uGamma);gl_FragColor.b = pow(gl_FragColor.b, uGamma);}</script>
		<script type="x-shader/x-vertex" id="vshSky">uniform mat3 uViewAngles;uniform mat4 uPerspective;uniform vec3 uScale;attribute vec3 aPosition;varying vec2 vTexCoord;void main(void){vec3 position = uViewAngles * (aPosition * uScale * 18918.0);gl_Position = uPerspective * vec4(position.xz, -position.y, 1.0);vTexCoord = aPosition.xy * uScale.xy * 1.5;}</script>
		<script type="x-shader/x-fragment" id="fshSky">precision mediump float;uniform float uGamma;uniform vec2 uTime;uniform sampler2D tSolid;uniform sampler2D tAlpha;varying vec2 vTexCoord;void main(void){vec4 alpha = texture2D(tAlpha, vTexCoord + uTime.x);gl_FragColor = vec4(mix(texture2D(tSolid, vTexCoord + uTime.y).rgb, alpha.rgb, alpha.a), 1.0);gl_FragColor.r = pow(gl_FragColor.r, uGamma);gl_FragColor.g = pow(gl_FragColor.g, uGamma);gl_FragColor.b = pow(gl_FragColor.b, uGamma);}</script>
		<script type="x-shader/x-vertex" id="vshSkyChain">uniform vec3 uViewOrigin;uniform mat3 uViewAngles;uniform mat4 uPerspective;attribute vec3 aPosition;void main(void){vec3 position = uViewAngles * (aPosition - uViewOrigin);gl_Position = uPerspective * vec4(position.xz, -position.y, 1.0);}</script>
		<script type="x-shader/x-fragment" id="fshSkyChain">precision mediump float;void main(void){}</script>
		<script type="x-shader/x-vertex" id="vshSprite">uniform vec4 uRect;uniform vec3 uViewOrigin;uniform mat3 uViewAngles;uniform mat4 uPerspective;attribute vec3 aPosition;attribute vec2 aTexCoord;varying vec2 vTexCoord;void main(void){vec3 position = uViewAngles * (aPosition - uViewOrigin);gl_Position = uPerspective * vec4(position.xz, -position.y, 1.0);vTexCoord = aTexCoord;}</script>
		<script type="x-shader/x-fragment" id="fshSprite">precision mediump float;uniform float uGamma;uniform sampler2D tTexture;varying vec2 vTexCoord;void main(void){gl_FragColor = texture2D(tTexture, vTexCoord);gl_FragColor.r = pow(gl_FragColor.r, uGamma);gl_FragColor.g = pow(gl_FragColor.g, uGamma);gl_FragColor.b = pow(gl_FragColor.b, uGamma);}</script>
		<script type="x-shader/x-vertex" id="vshTurbulent">uniform vec3 uOrigin;uniform mat3 uAngles;uniform vec3 uViewOrigin;uniform mat3 uViewAngles;uniform mat4 uPerspective;attribute vec3 aPosition;attribute vec2 aTexCoord;varying vec2 vTexCoord;void main(void){vec3 position = uViewAngles * (uAngles * aPosition + uOrigin - uViewOrigin);gl_Position = uPerspective * vec4(position.xz, -position.y, 1.0);vTexCoord = aTexCoord;}</script>
		<script type="x-shader/x-fragment" id="fshTurbulent">precision mediump float;uniform float uGamma;uniform float uTime;uniform sampler2D tTexture;varying vec2 vTexCoord;void main(void){gl_FragColor = vec4(texture2D(tTexture, vTexCoord + vec2(sin(vTexCoord.t * 3.141593 + uTime), sin(vTexCoord.s * 3.141593 + uTime)) * 0.125).rgb, 1.0);gl_FragColor.r = pow(gl_FragColor.r, uGamma);gl_FragColor.g = pow(gl_FragColor.g, uGamma);gl_FragColor.b = pow(gl_FragColor.b, uGamma);}</script>
		<script type="x-shader/x-vertex" id="vshWarp">uniform mat4 uOrtho;attribute vec2 aPosition;attribute vec2 aTexCoord;varying vec2 vTexCoord;void main(void){gl_Position = uOrtho * vec4(aPosition, 0.0, 1.0);vTexCoord = aTexCoord;}</script>
		<script type="x-shader/x-fragment" id="fshWarp">precision mediump float;uniform float uTime;uniform sampler2D tTexture;varying vec2 vTexCoord;void main(void){gl_FragColor = texture2D(tTexture, vTexCoord + vec2(sin(vTexCoord.t * 15.70796 + uTime) * 0.003125, sin(vTexCoord.s * 9.817477 + uTime) * 0.005));}</script>
	</body>
</html>
